(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{200:function(e,t,n){e.exports=n.p+"static/media/loading.0ce002b4.gif"},218:function(e,t,n){e.exports=n.p+"static/media/logo.dbe9bcb1.png"},219:function(e,t,n){e.exports=n.p+"static/media/google-logo.6bc7d493.png"},223:function(e,t,n){e.exports=n.p+"static/media/tutorial1.d11ab4f4.png"},224:function(e,t,n){e.exports=n.p+"static/media/tutorial2.cb9a704d.png"},225:function(e,t,n){e.exports=n.p+"static/media/tutorial3.a47e84c3.png"},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ct}));var a=n(12),o=n.n(a),r=n(0),i=n.n(r),s=n(75),l=n(6),c=n(5),d=n(326),m=n(236),u={colors:{primary:"rgb(193, 73, 83)",secondary:"rgb(132, 135, 165)",background:"rgb(76, 76, 71)",text:"rgb(255, 255, 255)",placeholderColor:"rgb(158, 158, 158)",jet:"rgb(45, 45, 42)",hazeText:"rgb(169,169,169)"},lightColors:{primary:"rgb(193, 73, 83)",secondary:"rgb(132, 135, 165)",background:"#9e9e9e",text:"rgb(0, 0, 0)",placeholderColor:"rgb(158, 158, 158)",jet:"rgb(84, 84, 84)",hazeText:"rgb(84,84,80)"},dimensions:{authWidth:"75%",standardFontSize:15,buttonWidth:"40%",authButtonWidth:"70%",inputHeight:50}},g=n(58),h=n(328),f=n(318),p=n(323),b=n(329),x=n(79),y=n(37),E=n(17),w=n(61);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";if(!e)return"";var n=new Date(1970,0,1);if(n.setSeconds(e),e=n.toISOString()+"","short"===t){var a=(new Date).toISOString()+"",o=e.indexOf("T");if(a.slice(0,o)!==e.slice(0,o)){var r=(e=e.slice(5,o)).slice(3,5),i=e.slice(0,2);e=r+"/"+i}else e=e.slice(o+1,16);return e}return"long"===t?e:"date"===t?n.toLocaleDateString():n.toLocaleTimeString().slice(0,-3)}function C(e){var t=e.chatName,n=e.previewText,a=e.notOpened,o=e.previewtimestamp,r=e.onPress;return o=S(o),i.a.createElement(w.a,{style:v.container,onPress:r},i.a.createElement(c.a,{style:v.chatLogo},i.a.createElement(E.a,{style:{fontSize:20,textAlign:"center",fontWeight:a?"bold":"normal"}},t?t[0]:"E")),i.a.createElement(c.a,null,i.a.createElement(E.a,{style:[v.name,{fontWeight:a?"bold":"normal"}]},t||"-"),i.a.createElement(E.a,{style:[v.message,{fontWeight:a?"bold":"normal"}]},n||"")),i.a.createElement(E.a,{style:[v.timestamp,{fontWeight:a?"bold":"normal"}]},o||""))}var v=l.a.create({container:{flexDirection:"row",width:"100%",height:65,borderColor:u.colors.hazeText,borderBottomWidth:1,padding:7,alignItems:"center"},chatLogo:{width:40,height:40,margin:6,marginLeft:2,borderRadius:20,backgroundColor:"#8487A5",justifyContent:"center"},name:{fontSize:u.dimensions.standardFontSize+4,color:u.colors.text,fontWeight:"bold",alignSelf:"flex-start"},message:{fontSize:u.dimensions.standardFontSize,color:u.colors.text,alignSelf:"flex-start"},timestamp:{marginLeft:"auto",color:u.colors.text,alignSelf:"center"}}),z=n(43);function T(e){var t=e.onChange;return i.a.createElement(c.a,{style:j.container},i.a.createElement(f.a,{name:"search",size:24,color:"white",style:{alignSelf:"center"}}),i.a.createElement(z.a,{style:j.searchBox,onChangeText:t,placeholder:"Search",placeholderTextColor:"white"}))}var j=l.a.create({container:{flexDirection:"row",padding:10,borderRadius:(u.dimensions.inputHeight+2)/2,width:"80%",height:u.dimensions.inputHeight+2,backgroundColor:u.colors.primary,justifyContent:"flex-start"},searchBox:{color:"white",marginLeft:10,fontSize:u.dimensions.standardFontSize+2,width:"80%"}}),I=n(13),k=n.n(I),D=n(94),P=n(63),B=n(320),O=n(321);function F(e){var t=e.text,n=e.timestamp,a=e.user,o=e.me;return n=S(n),t&&t.length<15&&a&&a.length>5&&(a=a.substring(0,a.indexOf(" "))),i.a.createElement(c.a,{style:A.row},i.a.createElement(c.a,{style:[A.messageBox,{alignSelf:o?"flex-end":"flex-start",backgroundColor:o?u.colors.primary:u.colors.secondary,textAlign:o?"right":"left"}]},i.a.createElement(c.a,{style:A.userAndTime},i.a.createElement(E.a,{style:A.user,testID:"user"},a||""),i.a.createElement(E.a,{style:A.ts,testID:"time"},n," ")),i.a.createElement(E.a,{style:[A.text,{textAlign:"center"}],testID:"message"},t||"")))}var A=l.a.create({row:{width:"100%",alignContent:"flex-start",marginBottom:5},messageBox:{borderRadius:u.dimensions.inputHeight/2,flexDirection:"column",maxWidth:"62%",padding:6,marginHorizontal:4},userAndTime:{flexDirection:"row",marginLeft:4,justifyContent:"space-between"},user:{color:u.colors.jet,alignSelf:"flex-start",marginRight:2,fontWeight:"700",fontSize:u.dimensions.standardFontSize-4},ts:{alignSelf:"flex-start",marginLeft:2,color:u.colors.jet,fontWeight:"700",fontSize:u.dimensions.standardFontSize-4},text:{width:"auto",color:u.colors.text,padding:4,fontSize:u.dimensions.standardFontSize}});function R(e){var t=e.text,n=e.setText,a=e.send,o=e.testID;return i.a.createElement(c.a,{style:{flexDirection:"row",justifyContent:"space-around"},testID:o},i.a.createElement(z.a,{style:W.textInput,placeholder:"message",placeholderTextColor:"#404040",onChangeText:n,value:t}),i.a.createElement(w.a,{style:W.send,onPress:a},i.a.createElement(f.a,{name:"send",size:20,color:u.colors.text})))}var W=l.a.create({textInput:{height:u.dimensions.inputHeight,width:"80%",backgroundColor:u.colors.secondary,alignItems:"center",color:u.colors.text,borderRadius:u.dimensions.inputHeight/2,padding:8,fontSize:u.dimensions.standardFontSize+1,paddingLeft:11,marginVertical:7},send:{width:u.dimensions.inputHeight-1,height:u.dimensions.inputHeight-1,backgroundColor:u.colors.primary,borderRadius:u.dimensions.inputHeight/2,marginVertical:7,alignItems:"center",justifyContent:"center"}}),L=n(44),M=n(200),U=n.n(M);function N(){return i.a.createElement(c.a,{style:H.container,testID:"loading"},i.a.createElement(L.a,{source:U.a,style:H.img}))}var H=l.a.create({container:{flex:1,backgroundColor:u.colors.background,justifyContent:"center",alignItems:"center"},img:{width:112,height:120}}),V=n(93),G=n(15);function q(e){var t=e.name,n=e.onPress;return i.a.createElement(c.a,{style:Z.header},i.a.createElement(B.a,{name:"left",size:24,color:"white",onPress:n}),i.a.createElement(E.a,{style:Z.chatName},t),i.a.createElement(B.a,{name:"back",size:24,color:u.colors.background}))}var Z=l.a.create({header:{flexDirection:"row",width:"90%",justifyContent:"space-between",marginTop:20,marginBottom:20,alignSelf:"center"},chatName:{color:u.colors.text,fontWeight:"bold",fontSize:u.dimensions.standardFontSize+2}});function J(e){var t=e.members,n=e.fsRef,a=e.admin;return i.a.createElement(y.a,{style:X.container},i.a.createElement(E.a,{style:X.heading},"Members List"),t&&t.map((function(e,o){return i.a.createElement(c.a,{key:o,style:X.memberContainer},e===a?i.a.createElement(E.a,{style:X.adminMember},e):i.a.createElement(c.a,{style:X.regularMember},i.a.createElement(E.a,{style:X.member},e),i.a.createElement(B.a,{name:"delete",size:16,color:u.colors.hazeText,onPress:function(){return function(e){var a=t.filter((function(t){return t!==e}));n.update({members:a})}(e)}})))})))}var X=l.a.create({container:{flex:1,width:"100%",height:"100%",marginBottom:15},heading:{color:u.colors.text,fontSize:u.dimensions.standardFontSize,fontWeight:"bold",alignSelf:"center",marginTop:4},memberContainer:{borderBottomColor:u.colors.hazeText,borderBottomWidth:.5,padding:4,marginVertical:5,width:"100%"},regularMember:{flexDirection:"row",justifyContent:"space-between"},member:{color:u.colors.text,fontSize:u.dimensions.standardFontSize},adminMember:{color:u.colors.hazeText,fontSize:u.dimensions.standardFontSize}});function Y(e){return i.a.createElement(E.a,{style:K.alert},e.text?e.text:" ")}var K=l.a.create({alert:{paddingLeft:3,width:u.dimensions.authWidth,height:15,color:u.colors.primary,fontSize:12,margin:0}});function $(e){return i.a.createElement(w.a,{onPress:e.onPress,style:[_.button,{width:e.width}],testID:e.testID?e.testID:"button"},i.a.createElement(E.a,{style:_.buttonText},e.text?e.text:"  "," "))}var _=l.a.create({button:{backgroundColor:u.colors.primary,padding:10,margin:10,borderRadius:18,alignItems:"center",height:u.dimensions.buttonHeight},buttonText:{color:u.colors.text,fontSize:u.dimensions.standardFontSize}}),Q=n(49),ee=n(204).a,te=(n(269),ee.initializeApp({apiKey:"AIzaSyDS6ewZ9HDXhwN8u6qzsXmsijtv-5GFcrM",authDomain:"chirp-77b9d.firebaseapp.com",databaseURL:"https://chirp-77b9d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chirp-77b9d",storageBucket:"chirp-77b9d.appspot.com",messagingSenderId:"875721758742",appId:"1:875721758742:web:96ae1de3b28abdf608bd37",measurementId:"G-S4YZ6D7KW9"})),ne=ee.firestore(te);function ae(e){var t=e.currentMembers,n=e.fsRef,a=Object(r.useState)(""),s=o()(a,2),l=s[0],d=s[1],m=Object(r.useState)(""),g=o()(m,2),h=g[0],f=g[1],p=ne.collection("users").where("email","==",l.toLowerCase()),b=Object(Q.a)(p,{idField:"userId"}),x=o()(b,1)[0];var y=function(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)};return i.a.createElement(c.a,{style:oe.container},i.a.createElement(E.a,{style:oe.optionsText},"Add member"),i.a.createElement(c.a,{style:oe.addMember},i.a.createElement(z.a,{style:oe.memberTextBox,placeholder:"Email",placeholderTextColor:u.colors.placeholderColor,value:l,onChangeText:d}),i.a.createElement($,{text:"Add",onPress:function(){return function(){if(f(""),y(l))if(x&&x.length>0){var e=x[0].email;if(t.includes(e))f("User is already a member.");else{var a=t;a.push(e),n.update({members:a}),d(""),f("Successful")}}else f("No user with that email exists");else f("Email address is invalid")}()},width:"25%"})),i.a.createElement(Y,{text:h}))}var oe=l.a.create({container:{width:"100%",marginBottom:20},optionsText:{color:u.colors.text,fontSize:u.dimensions.standardFontSize,fontWeight:"bold",alignSelf:"center",marginTop:4},addMember:{borderRadius:18,borderColor:u.colors.primary,borderWidth:1,flexDirection:"row",margin:7,width:"90%",justifyContent:"space-around",alignSelf:"center"},memberTextBox:{width:"60%",color:"white",fontSize:u.dimensions.standardFontSize+2,margin:7}}),re=(n(183),ee.auth());function ie(e){var t=e.name,n=e.id,a=e.returnToChat,o=e.chatData,r=e.returnToMain,s=ne.collection("chatGroups").doc(n);return P.a.addEventListener("hardwareBackPress",(function(){return a(),!0})),i.a.createElement(y.a,{style:se.container},re.currentUser.email===o.admin?i.a.createElement(c.a,{style:se.header},i.a.createElement(B.a,{name:"left",size:24,color:"white",onPress:a}),i.a.createElement(E.a,{style:se.chatName},t),i.a.createElement(B.a,{name:"delete",size:24,color:u.colors.text,onPress:function(){"web"===G.a.OS?(s.delete(),r()):V.a.alert("Confirm Delete","Are you sure you want to delete this chat and all data associated with it?",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:function(){s.delete(),r()}}])}})):i.a.createElement(q,{name:t,onPress:a}),i.a.createElement(E.a,{style:se.chatInfo}," ",o.createdAt?"Created on: "+S(o.createdAt.seconds):""),i.a.createElement(ae,{currentMembers:o.members,chatId:n,fsRef:s}),i.a.createElement(J,{members:o.members,fsRef:s,admin:o.admin}))}var se=l.a.create({container:{flex:1,flexDirection:"column",width:"100%",height:"100%",backgroundColor:u.colors.background},header:{flexDirection:"row",width:"90%",justifyContent:"space-between",marginTop:20,marginBottom:20,alignSelf:"center"},chatName:{color:u.colors.text,fontWeight:"bold",fontSize:u.dimensions.standardFontSize+2},chatInfo:{color:u.colors.hazeText,fontSize:u.dimensions.standardFontSize-2,alignSelf:"center",marginBottom:30},deleteButton:{marginTop:30,width:"100%",alignItems:"center"}});function le(e){var t=e.name,n=e.id,a=e.onBackPress,s=Object(r.useState)(!1),l=o()(s,2),d=l[0],m=l[1],u=Object(r.useState)(""),g=o()(u,2),h=g[0],f=g[1],p=Object(r.useRef)();P.a.addEventListener("hardwareBackPress",(function(){return a(),!0}));var b,x,w=re.currentUser;w&&(b=w.uid,x=w.email);var S=ne.collection("users").doc(b),C=Object(Q.b)(S),v=o()(C,1)[0],z=ne.collection("chatGroups").doc(n),T=Object(Q.b)(z),j=o()(T,1)[0],I=z.collection("messages"),A=I.orderBy("createdAt").limit(50),W=Object(Q.a)(A,{idField:"msgId"}),L=o()(W,2),M=L[0];return L[1]?i.a.createElement(N,null):d?i.a.createElement(ie,{name:t,id:n,chatData:j,returnToChat:function(){return m(!1)},returnToMain:a}):i.a.createElement(c.a,{style:ce.container},i.a.createElement(c.a,{style:ce.header},i.a.createElement(B.a,{name:"left",size:24,color:"white",testID:"backButton",onPress:a}),i.a.createElement(E.a,{style:ce.chatName,testID:"chatName"},t),i.a.createElement(O.a,{name:"options-vertical",size:22,color:"white",onPress:function(){m(!0)}})),i.a.createElement(y.a,{style:ce.messagesBox,ref:p,onContentSizeChange:function(){return p.current.scrollToEnd({animated:!0})}},M&&M.length>0?M.map((function(e){return i.a.createElement(F,{key:e.msgId,text:e.text,timestamp:e.createdAt?e.createdAt.seconds:"  ",me:e.uid==b,user:e.user})})):i.a.createElement(E.a,{style:ce.noMessagesText,testID:"noChatsHelpText"},"Be the first to send a message! ","\n\n\n\n"," Click on the \u22ee in the top right corner to open options and add other members")),i.a.createElement(D.a,{style:ce.bottomBar,behavior:"padding",keyboardVerticalOffset:-150},i.a.createElement(R,{text:h,setText:f,send:function(){return k.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.length>0)){e.next=5;break}return e.next=3,k.a.awrap(I.add({text:h||"",createdAt:ee.firestore.FieldValue.serverTimestamp(),uid:b,email:x,user:v?v.name:""}));case 3:ne.collection("chatGroups").doc(n).update({membersUnseen:j.members,lastMessage:h.length<30?h:h.slice(0,30)+"...",lastMessageTimestamp:ee.firestore.FieldValue.serverTimestamp()}),f("");case 5:case"end":return e.stop()}}),null,null,null,Promise)},testID:"sendTextBox"})))}var ce=l.a.create({container:{flex:1,flexDirection:"column",width:"100%",height:"100%",backgroundColor:u.colors.background,alignItems:"center",justifyContent:"space-between"},header:{flexDirection:"row",width:"90%",justifyContent:"space-between",marginTop:20,marginBottom:20},messagesBox:{flex:1,width:"100%"},bottomBar:{width:"100%",justifyContent:"center"},chatName:{color:u.colors.text,textAlign:"center",fontWeight:"bold",fontSize:u.dimensions.standardFontSize+2},noMessagesText:{textAlign:"center",width:"80%",alignSelf:"center",color:u.colors.hazeText,fontSize:u.dimensions.standardFontSize+2}}),de=n(322);function me(e){return i.a.createElement(w.a,{onPress:e.onPress,style:[ue.button,e.size?{borderRadius:e.size/2,width:e.size,height:e.size}:""]},i.a.createElement(de.a,{name:"create",size:24,color:"white"}))}var ue=l.a.create({button:{backgroundColor:u.colors.primary,borderRadius:(u.dimensions.inputHeight+2)/2,alignItems:"center",justifyContent:"center",height:u.dimensions.inputHeight+2,width:u.dimensions.inputHeight+2}});function ge(e){var t=e.onChangeText,n=e.value,a=e.placeholder,o=e.password,r=e.allowMultiline,s=e.smallVersion,l=e.testID;return i.a.createElement(z.a,{style:[he.textBox,{padding:s?3:5,fontSize:s?14:15,marginTop:s?5:7,marginBottom:s?3:4}],value:n,onChangeText:t||null,secureTextEntry:!!o,selectTextOnFocus:!!o,selectionColor:u.colors.primary,multiline:r||!1,blurOnSubmit:!0,placeholder:a||"",placeholderTextColor:u.colors.placeholderColor,testID:l||"chirpTextBox"})}var he=l.a.create({textBox:{width:"82%",color:u.colors.text,borderBottomColor:u.colors.text,borderBottomWidth:1}});function fe(e){var t=e.onBackPress,n=Object(r.useState)(""),a=o()(n,2),s=a[0],l=a[1],d=Object(r.useState)(""),m=o()(d,2),u=m[0],g=m[1];return i.a.createElement(c.a,{style:pe.container},i.a.createElement(q,{name:"Create Chat",onPress:t}),i.a.createElement(c.a,{style:pe.chatInfo},i.a.createElement(ge,{placeholder:"Name",value:s,onChangeText:l,testID:"nameBox"}),i.a.createElement(Y,{text:u})),i.a.createElement($,{onPress:function(){if(s.length<1)g("Name is too short");else if(s.length>25)g("Name is too long");else{g(""),ne.collection("chatGroups").doc().set({name:s,createdAt:ee.firestore.FieldValue.serverTimestamp(),members:[re.currentUser.email],admin:re.currentUser.email,membersUnseen:[],lastMessage:"",lastMessageTimestamp:null}),l(""),t()}},width:"70%",text:"Create Chat",testID:"createChatButton"}))}var pe=l.a.create({container:{flexDirection:"column",width:"100%",height:"100%",backgroundColor:u.colors.background,alignItems:"center",justifyContent:"space-between"},header:{flexDirection:"row",width:"100%",justifyContent:"space-between",marginVertical:15},back:{marginLeft:10},chatName:{color:u.colors.text,width:"100%",textAlign:"center",marginRight:25,fontWeight:"bold",fontSize:u.dimensions.standardFontSize},chatInfo:{height:"60%",width:"100%",alignItems:"center",justifyContent:"center"}});var be=l.a.create({container:{flex:1,backgroundColor:u.colors.background,alignItems:"center"},groupsScroll:{width:"100%"},outerContainer:{height:"100%",width:"100%"},header:{flexDirection:"row",width:"100%",justifyContent:"space-around",marginVertical:20},emptyGroupsText:{fontSize:u.dimensions.standardFontSize+5,color:u.colors.hazeText,width:"80%",alignSelf:"center",paddingTop:40,textAlign:"center"}}),xe=n(237),ye=n(74);function Ee(){return i.a.createElement(c.a,{style:we.container},i.a.createElement(E.a,{style:we.heading},"Statistics"),i.a.createElement(E.a,{style:we.stat},"Created Todos = 4"),i.a.createElement(E.a,{style:we.stat},"Messages sent = 4"),i.a.createElement(E.a,{style:we.stat},"Joined projects = 2"),i.a.createElement(E.a,{style:we.stat},"Completed Todos = 8"),i.a.createElement(E.a,{style:we.stat},"Assigned Todos = 10"))}var we=l.a.create({container:{width:"85%",height:"40%",alignSelf:"center",borderRadius:25,backgroundColor:u.colors.jet,padding:5,margin:20,justifyContent:"space-around",alignItems:"flex-start",shadowColor:"rgb(15, 15, 12)",shadowOffset:{height:1.5,width:1.5},shadowRadius:1},heading:{color:u.colors.text,fontSize:u.dimensions.standardFontSize+2,fontWeight:"bold",width:"100%",textAlign:"center"},stat:{color:u.colors.text,fontSize:u.dimensions.standardFontSize,marginLeft:4,marginBottom:5}}),Se=n(235);var Ce=l.a.create({container:{flex:1,backgroundColor:u.colors.background,justifyContent:"space-around"},profileHeader:{flexDirection:"row",height:100,marginTop:10,justifyContent:"center",alignItems:"center"},profileImage:{width:60,height:60,borderRadius:60,borderColor:u.colors.hazeText,borderWidth:.8,justifyContent:"center"},profileText:{color:u.colors.hazeText,fontSize:u.dimensions.standardFontSize+14,textAlign:"center"},displayName:{fontSize:u.dimensions.standardFontSize+5,color:u.colors.text},profileInfo:{flexDirection:"column",margin:18},createdAt:{color:u.colors.hazeText,fontSize:u.dimensions.standardFontSize-4},options:{marginTop:20},option:{fontSize:u.dimensions.standardFontSize+1,color:u.colors.text,width:"100%",padding:7}});function ve(e){var t=e.projectName,n=e.nextTodo,a=e.onPress,o=e.remaining,r=e.done;return i.a.createElement(w.a,{style:ze.container,onPress:a},i.a.createElement(c.a,{style:ze.left},i.a.createElement(E.a,{style:[ze.name,r?{textDecorationLine:"line-through",textDecorationStyle:"solid",textDecorationColor:"white",fontWeight:"normal"}:{}]},t||""),i.a.createElement(E.a,{style:ze.todo},n&&!r?"Todo: "+n:"")),o&&!r?i.a.createElement(c.a,{style:ze.right},i.a.createElement(p.a,{name:"timer-sand",size:18,color:"white"}),i.a.createElement(E.a,{style:ze.remaining},o)):i.a.createElement(c.a,{style:{paddingRight:15}},i.a.createElement(f.a,{name:"checkmark-done",size:30,color:"white"})))}var ze=l.a.create({container:{flexDirection:"row",width:"90%",height:60,borderRadius:25,backgroundColor:u.colors.jet,padding:5,margin:10,alignSelf:"center",justifyContent:"space-between",alignItems:"center",shadowColor:"rgb(15, 15, 12)",shadowOffset:{height:1.5,width:1.5},shadowRadius:1},left:{flexDirection:"column",justifyContent:"space-evenly"},name:{fontSize:u.dimensions.standardFontSize+3,color:u.colors.text,fontWeight:"bold",alignSelf:"flex-start",paddingLeft:10},todo:{fontSize:u.dimensions.standardFontSize-2,color:u.colors.text,fontWeight:"normal",paddingLeft:10},right:{flexDirection:"row"},remaining:{fontSize:u.dimensions.standardFontSize,color:u.colors.text,fontWeight:"bold",paddingLeft:6,paddingRight:3}}),Te=n(239),je=n(324),Ie=n(242);function ke(e){var t,n,a=e.projectId,s=Object(r.useState)(new Date),l=o()(s,2),d=l[0],m=l[1],u=Object(r.useState)("date"),g=o()(u,2),h=g[0],f=g[1],p=Object(r.useState)(!1),b=o()(p,2),x=b[0],y=b[1],w=ne.collection("projects").doc(a),C=Object(Q.b)(w),v=o()(C,1)[0];v&&(t=S(v.deadline.seconds,"date"),n=S(v.deadline.seconds,"time"));var z=function(e){y(!0),f(e)},T=function(){"ios"===G.a.OS?z("datetime"):z("date")};return i.a.createElement(c.a,{style:[De.container,{maxHeight:x?null:"20%"}]},i.a.createElement(E.a,{style:De.heading},"Deadline"),i.a.createElement(c.a,{style:De.body},i.a.createElement(E.a,{style:De.deadline,onPress:T},t," at ",n),i.a.createElement(c.a,{style:De.buttons},i.a.createElement($,{width:"38%",text:"Edit date",onPress:T}),i.a.createElement($,{width:"38%",text:"Edit time",onPress:function(){"ios"===G.a.OS?z("datetime"):z("time")}}))),i.a.createElement(c.a,{style:{width:"100%",flexDirection:"row",justifyContent:"center"}},x&&i.a.createElement(Ie.a,{testID:"dateTimePicker",value:d,mode:h,style:{flex:1,width:"100%",alignSelf:"center",alignContent:"center"},is24Hour:!0,display:"default",onChange:function(e,t){var n=t||d;y("ios"===G.a.OS),m(n),t&&function(e){w.update({deadline:ee.firestore.Timestamp.fromDate(e)})}(n)}})))}var De=l.a.create({container:{flex:1,flexDirection:"column",backgroundColor:u.colors.background,alignItems:"center",justifyContent:"space-between",width:"100%"},heading:{color:u.colors.text,fontSize:u.dimensions.standardFontSize,fontWeight:"bold",alignSelf:"center",marginTop:4},deadline:{color:u.colors.primary,fontSize:u.dimensions.standardFontSize+5,fontWeight:"bold",textAlign:"center"},buttons:{justifyContent:"space-around",flexDirection:"row"}}),Pe=n(106);function Be(e){var t=e.todosRef,n=e.onBackPress,a=e.onSubmit,s=Object(r.useState)(""),l=o()(s,2),d=l[0],m=l[1],g=Object(r.useState)(""),h=o()(g,2),f=h[0],p=h[1],b=Object(r.useState)(""),x=o()(b,2),y=x[0],w=x[1],S=Object(r.useState)(""),C=o()(S,2),v=C[0],z=C[1],T=Object(r.useState)(""),j=o()(T,2),I=j[0],D=j[1];return i.a.createElement(c.a,{style:Oe.container},i.a.createElement(q,{name:"Create Todo",onPress:n}),i.a.createElement(c.a,{style:Oe.todoInfo},i.a.createElement(ge,{placeholder:"Description",value:d,onChangeText:m,allowMultiline:!0,smallVersion:!0}),i.a.createElement(Y,{text:I}),i.a.createElement(ge,{placeholder:"Assignee",value:f,smallVersion:!0,onChangeText:p}),i.a.createElement(ge,{placeholder:"Creator",value:y,onChangeText:w,smallVersion:!0}),i.a.createElement(c.a,{style:Oe.pickerRow},i.a.createElement(E.a,{style:Oe.pickerHelpText},"Todo size: "),i.a.createElement(c.a,{style:{flex:1,padding:0,margin:0}},i.a.createElement(Pe.a,{style:{color:u.colors.jet,fontSize:u.dimensions.standardFontSize,maxHeight:80},itemStyle:{height:36,color:u.colors.text,fontSize:u.dimensions.standardFontSize},selectedValue:v,onValueChange:function(e,t){return z(e)},prompt:"Todo size"},i.a.createElement(Pe.a.Item,{label:"Select size",value:""}),i.a.createElement(Pe.a.Item,{label:"S",value:"S"}),i.a.createElement(Pe.a.Item,{label:"M",value:"M"}),i.a.createElement(Pe.a.Item,{label:"L",value:"L"}))))),i.a.createElement($,{onPress:function(){return k.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(d.length<2)){e.next=4;break}D("Description is too short"),e.next=11;break;case 4:if(!(d.length>120)){e.next=8;break}D("Description is too long"),e.next=11;break;case 8:return e.next=10,k.a.awrap(t.add({description:d,assignee:f,createdAt:ee.firestore.FieldValue.serverTimestamp(),author:y,done:!1,size:v}));case 10:a();case 11:case"end":return e.stop()}}),null,null,null,Promise)},width:"70%",text:"Add Todo"}))}var Oe=l.a.create({container:{flexDirection:"column",flex:1,width:"100%",marginBottom:2,marginTop:0,borderBottomColor:u.colors.jet,borderBottomWidth:1,alignItems:"center",justifyContent:"space-between"},header:{flexDirection:"row",width:"100%",justifyContent:"space-between",marginVertical:10},todoName:{color:u.colors.text,fontWeight:"bold",fontSize:u.dimensions.standardFontSize},todoInfo:{width:"100%",alignItems:"center",justifyContent:"flex-start"},pickerRow:{flexDirection:"row",alignSelf:"center",width:"75%",justifyContent:"space-around",marginTop:5},pickerHelpText:{color:u.colors.text,fontSize:u.dimensions.standardFontSize}});function Fe(e){var t=e.todos,n=e.todosRef,a=e.userRef,s=Object(r.useState)(!1),l=o()(s,2),d=l[0],m=l[1];function g(e,t){n.doc(e).update({done:t})}return d?i.a.createElement(Be,{todosRef:n,onBackPress:function(){return m(!1)},onSubmit:function(){return m(!1)},userRef:a}):i.a.createElement(y.a,{style:Ae.container},i.a.createElement(c.a,{style:Ae.header},i.a.createElement(c.a,{style:Ae.blankHeading}),i.a.createElement(E.a,{style:Ae.heading},"Todo List"),i.a.createElement(me,{onPress:m,size:40})),t&&t.length>0?t.map((function(e,t){return i.a.createElement(c.a,{key:t,style:Ae.todo},i.a.createElement(c.a,{style:Ae.topSection},i.a.createElement(E.a,{style:Ae.description},e.description?e.description:""),e.done?i.a.createElement(de.a,{name:"done-outline",size:20,color:u.colors.hazeText,onPress:function(){return g(e.todoId,!1)}}):i.a.createElement(je.a,{name:"circle-with-cross",size:19,color:u.colors.hazeText,onPress:function(){return g(e.todoId,!0)}})),i.a.createElement(c.a,{style:Ae.bottomSection},i.a.createElement(E.a,{style:Ae.info},e.assignee?"Assignee: "+e.assignee:""),i.a.createElement(E.a,{style:Ae.info},e.size?"Size: "+e.size:""),i.a.createElement(E.a,{style:Ae.info},e.author?"Creator: "+e.author:""),i.a.createElement(B.a,{name:"delete",size:20,color:u.colors.hazeText,onPress:function(){return t=e.todoId,void("web"===G.a.OS?n.doc(t).delete():V.a.alert("Confirm Delete","Are you sure you want to delete this todo and all data associated with it?",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:function(){n.doc(t).delete()}}]));var t}})))})):i.a.createElement(E.a,{style:Ae.noMessagesText},"\n\n\n\n"," Click on the \u270f\ufe0f to start making your first todo!"))}var Ae=l.a.create({container:{width:"100%",flex:1,marginBottom:15,marginTop:20,borderBottomColor:u.colors.jet,borderBottomWidth:1},header:{flexDirection:"row",justifyContent:"space-between",width:"90%",alignContent:"center",alignSelf:"center"},blankHeading:{width:50},heading:{color:u.colors.text,fontSize:u.dimensions.standardFontSize,fontWeight:"bold",alignSelf:"center",marginTop:4},todo:{borderBottomColor:u.colors.text,borderBottomWidth:.5,padding:4,marginVertical:5,flexDirection:"column",justifyContent:"space-around"},description:{maxWidth:"92%",color:u.colors.text,fontSize:u.dimensions.standardFontSize+1},topSection:{flexDirection:"row",justifyContent:"space-between",marginBottom:3},bottomSection:{flexDirection:"row",justifyContent:"space-between"},info:{color:u.colors.hazeText,fontSize:u.dimensions.standardFontSize-1,minWidth:"20%"},noMessagesText:{textAlign:"center",width:"70%",alignSelf:"center",color:u.colors.hazeText,fontSize:u.dimensions.standardFontSize+2}});function Re(e){var t=e.name,n=e.onBackPress,a=e.projectId,s=Object(r.useState)(!1),l=o()(s,2),d=l[0],m=l[1],g=ne.collection("projects").doc(a),h=Object(Q.b)(g),f=o()(h,2),p=f[0],b=f[1];function x(e){g.update({done:e})}var y=ne.collection("users").doc(re.currentUser.uid),w=g.collection("todos"),S=w.orderBy("done","asc").limit(50),C=Object(Q.a)(S,{idField:"todoId"}),v=o()(C,1)[0];return v&&(v.sort((function(e,t){return e.done?1:t.createdAt-e.createdAt})),v[0]?p.nextTodo!==v[0].description&&g.update({nextTodo:v[0].description}):g.update({nextTodo:""})),b?i.a.createElement(N,null):i.a.createElement(c.a,{style:We.container},i.a.createElement(c.a,{style:We.header},i.a.createElement(B.a,{style:We.back,name:"left",size:24,color:"white",onPress:n}),i.a.createElement(E.a,{style:We.projectName},t),i.a.createElement(c.a,{style:We.headerButtons},p.done?i.a.createElement(de.a,{name:"done-outline",style:{marginRight:5},size:24,color:u.colors.text,onPress:function(){return x(!1)}}):i.a.createElement(je.a,{name:"circle-with-cross",style:{marginRight:5},size:24,color:u.colors.text,onPress:function(){return x(!0)}}),re.currentUser.email===p.admin?i.a.createElement(B.a,{name:"delete",size:24,color:u.colors.text,onPress:function(){"web"===G.a.OS?(g.delete(),n()):V.a.alert("Confirm Delete","Are you sure you want to delete this project and all data associated with it?",[{text:"Cancel",style:"cancel"},{text:"Delete",style:"destructive",onPress:function(){g.delete(),n()}}])}}):null)),i.a.createElement(c.a,{style:We.project},i.a.createElement(E.a,{style:We.description},p.description?p.description:""),i.a.createElement($,{text:"Show Members",onPress:function(){return m(!0)},width:"50%"}),i.a.createElement(Te.a,{animationType:"slide",transparent:!0,visible:d,onRequestClose:function(){return m(!d)}},i.a.createElement(c.a,{style:We.modalView},i.a.createElement(J,{members:p.members,fsRef:g,admin:p.admin}),i.a.createElement(ae,{currentMembers:p.members,projectId:a,fsRef:g}),i.a.createElement($,{text:"Close",width:"60%",onPress:function(){return m(!d)}}))),i.a.createElement(Fe,{todos:v,todosRef:w,userRef:y}),i.a.createElement(ke,{projectId:a})))}var We=l.a.create({container:{flex:1,backgroundColor:u.colors.background,alignItems:"center",justifyContent:"space-around"},header:{flexDirection:"row",width:"90%",justifyContent:"space-between",marginTop:20,marginBottom:5},back:{alignSelf:"flex-start"},projectName:{color:u.colors.text,textAlign:"center",alignSelf:"center",fontWeight:"bold",fontSize:u.dimensions.standardFontSize+3,paddingLeft:5},headerButtons:{flexDirection:"row"},project:{height:"90%",width:"100%",alignItems:"center"},description:{color:u.colors.hazeText,textAlign:"center",width:"90%",marginBottom:5},modalView:{height:"60%",backgroundColor:u.colors.background,margin:20,borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,borderWidth:1,borderColor:"black"}}),Le=n(146);function Me(e){var t=e.text,n=e.value,a=e.setValue;return i.a.createElement(c.a,{style:Ue.container},i.a.createElement(E.a,{style:Ue.text},t||""),i.a.createElement(Le.a,{style:{marginLeft:5},trackColor:{false:"#767577",true:"#9c5a60"},thumbColor:n?"rgb(193, 73, 83)":"#767577",ios_backgroundColor:"#3e3e3e",onValueChange:a,value:n}))}var Ue=l.a.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",margin:5,padding:2},text:{color:u.colors.text,fontSize:u.dimensions.standardFontSize+2}});function Ne(e){var t=e.onBackPress,n=Object(r.useState)(""),a=o()(n,2),s=a[0],l=a[1],d=Object(r.useState)(""),m=o()(d,2),u=m[0],g=m[1],h=Object(r.useState)(""),f=o()(h,2),p=f[0],b=f[1],x=Object(r.useState)(!1),y=o()(x,2),E=y[0],w=y[1],S=Object(r.useState)(""),C=o()(S,2),v=C[0],z=C[1];return v?i.a.createElement(c.a,{style:He.deadlineContainer},i.a.createElement(ke,{projectId:v}),i.a.createElement($,{onPress:t,width:"70%",text:"Set Deadline"})):i.a.createElement(c.a,{style:He.container},i.a.createElement(q,{name:"Create Project",onPress:t}),i.a.createElement(c.a,{style:He.projectInfo},i.a.createElement(ge,{placeholder:"Name",value:s,onChangeText:l}),i.a.createElement(Y,{text:u}),i.a.createElement(ge,{placeholder:"Description",value:p,allowMultiline:!0,onChangeText:b}),i.a.createElement(Me,{style:He.createChat,text:"Create chat group",value:E,setValue:function(){w(!E)}})),i.a.createElement($,{onPress:function(){var e,t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(s.length<2)){n.next=4;break}g("Name is too short"),n.next=18;break;case 4:if(!(s.length>25)){n.next=8;break}g("Name is too long"),n.next=18;break;case 8:return g(""),n.next=11,k.a.awrap(ne.collection("projects").add({name:s,description:p,createdAt:ee.firestore.FieldValue.serverTimestamp(),deadline:ee.firestore.FieldValue.serverTimestamp(),members:[re.currentUser.email],admin:re.currentUser.email,done:!1,nextTodo:""}));case 11:if(e=n.sent,t=e.id,z(t),!E){n.next=17;break}return n.next=17,k.a.awrap(ne.collection("chatGroups").add({name:s,createdAt:ee.firestore.FieldValue.serverTimestamp(),members:[re.currentUser.email],admin:re.currentUser.email,membersUnseen:[],lastMessage:"",lastMessageTimestamp:null}));case 17:l("");case 18:case"end":return n.stop()}}),null,null,null,Promise)},width:"70%",text:"Create Project"}))}var He=l.a.create({container:{flexDirection:"column",width:"100%",height:"100%",backgroundColor:u.colors.background,alignItems:"center",justifyContent:"space-between"},deadlineContainer:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},header:{flexDirection:"row",width:"100%",justifyContent:"space-between",marginVertical:15},back:{marginLeft:10},projectName:{color:u.colors.text,fontWeight:"bold",fontSize:u.dimensions.standardFontSize+2},projectInfo:{height:"60%",width:"90%",alignItems:"center",justifyContent:"center"},createChat:{marginTop:10,width:"100%"},createChatText:{color:u.colors.text,fontSize:u.dimensions.standardFontSize}});function Ve(e){if(!e)return"";var t=Math.floor((new Date).getTime()/1e3),n=e.seconds-t,a=n/86400,o=Math.floor(a),r=Math.floor(n/60);return o>0?o+(1===o?" day ":" days "):r>59?Math.floor(r/60)+" hours":r>0?r+" minutes":"Overdue"}var Ge=l.a.create({outerContainer:{width:"100%",height:"100%"},container:{flex:1,flexDirection:"column",justifyContent:"space-between"},header:{marginTop:15,alignItems:"center",marginBottom:50},headerText:{color:u.colors.text,fontWeight:"bold",fontSize:u.dimensions.standardFontSize+2},projectScroll:{flex:1},footer:{alignItems:"flex-end",margin:15},emptyGroupsText:{fontSize:u.dimensions.standardFontSize+4,color:u.colors.hazeText,width:"85%",alignSelf:"center",paddingTop:40,textAlign:"center"}}),qe=Object(h.a)({Chat:{screen:function(){var e=Object(r.useState)(!1),t=o()(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),l=o()(s,2),d=l[0],m=l[1],u=Object(r.useState)(),g=o()(u,2),h=g[0],f=g[1],p=Object(r.useState)(""),b=o()(p,2),w=b[0],S=b[1],v=Object(r.useState)(""),z=o()(v,2),j=z[0],I=z[1],k=re.currentUser,D="";k&&(D=k.email);var P,B=ne.collection("chatGroups"),O=B.where("members","array-contains",D),F=Object(Q.a)(O,{idField:"chatId"}),A=o()(F,1)[0];function R(e,t){f(e),a(!0),S(t),function(e){for(var t=-1,n=0;n<A.length;n++)if(A[n].chatId==e){t=n;break}if(-1==t)return!1;var a=A[t].membersUnseen,o=function(e,t){var n=t.indexOf(e);n>=0&&t.splice(n,1);return t}(D,a);B.doc(e).update({membersUnseen:o})}(e)}function W(){m(!0)}function L(){a(!1),m(!1),f(0)}if(A&&(A.sort((function(e,t){return t.lastMessageTimestamp-e.lastMessageTimestamp})),P=A),j.length>0){var M=A.filter((function(e){if(-1!==e.name.toLowerCase().indexOf(j.toLowerCase()))return!0}));P=M}else P=A;return i.a.createElement(c.a,{style:be.outerContainer},n?i.a.createElement(le,{id:h,name:w,onBackPress:L}):d?i.a.createElement(fe,{onBackPress:L}):i.a.createElement(x.a,{style:be.container},i.a.createElement(c.a,{style:be.header},i.a.createElement(T,{onChange:I}),i.a.createElement(me,{onPress:W})),i.a.createElement(y.a,{style:be.groupsScroll},P&&P.length>0?P.map((function(e){return i.a.createElement(C,{key:e.chatId,chatName:e.name,previewText:e.lastMessage?e.lastMessage:"",previewtimestamp:e.lastMessageTimestamp?e.lastMessageTimestamp.seconds:"",notOpened:e.membersUnseen.includes(D),onPress:function(){return R(e.chatId,e.name)}})})):i.a.createElement(E.a,{style:be.emptyGroupsText,testID:"noChatsHelpText"},"You have not joined any chats yet. ","\n\n","Click the create button to make your own chat group!"))))},navigationOptions:{tabBarIcon:function(e){var t=e.focused;return i.a.createElement(f.a,{name:t?"ios-chatbubble-sharp":"ios-chatbubble-outline",size:t?27:24,color:"white"})}}},Projects:{screen:function(){var e=Object(r.useState)(!1),t=o()(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),l=o()(s,2),d=l[0],m=l[1],u=Object(r.useState)(""),g=o()(u,2),h=g[0],f=g[1],p=Object(r.useState)(""),b=o()(p,2),w=b[0],S=b[1];P.a.addEventListener("hardwareBackPress",(function(){return I(),!0}));var C=re.currentUser.email,v=ne.collection("projects").where("members","array-contains",C),z=Object(Q.a)(v,{idField:"projectId"}),T=o()(z,1)[0];function j(){m(!0)}function I(){a(!1),m(!1),f(0)}return T&&T.sort((function(e,t){return e.done||t.done?1:(e.deadline?e.deadline.seconds:0)-(t.deadline?t.deadline.seconds:0)})),i.a.createElement(c.a,{style:Ge.outerContainer},n?i.a.createElement(Re,{name:w,onBackPress:I,projectId:h}):d?i.a.createElement(Ne,{onBackPress:I}):i.a.createElement(x.a,{style:Ge.container},i.a.createElement(c.a,{style:Ge.header},i.a.createElement(E.a,{style:Ge.headerText},"Projects")),i.a.createElement(y.a,{style:Ge.projectScroll},T&&T.length>0?T.map((function(e){return i.a.createElement(ve,{key:e.projectId,projectName:e.name,nextTodo:e.nextTodo?(t=e.nextTodo,t.length>28?t.substring(0,28)+"...":t):"",remaining:Ve(e.deadline),done:!!e.done&&e.done,onPress:function(){return t=e.projectId,n=e.name,f(t),a(!0),void S(n);var t,n}});var t})):i.a.createElement(E.a,{style:Ge.emptyGroupsText},"You aren't a member of any projects yet ","\n\n","Click the create button to make your own!")),i.a.createElement(c.a,{style:Ge.footer},i.a.createElement(me,{onPress:j}))))},navigationOptions:{tabBarIcon:function(e){var t=e.focused;return i.a.createElement(p.a,{name:t?"briefcase-clock":"briefcase-clock-outline",size:t?27:24,color:"white"})}}},Profile:{screen:function(){var e=re.currentUser,t=e.uid,n=e.displayName,a=re.currentUser.photoURL,r=ne.collection("users").doc(t),s=Object(Q.b)(r),l=o()(s,2),d=l[0],m=l[1];d&&d.profileURL&&(a=d.profileURL);var g=function(e){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.cancelled){n.next=6;break}return n.next=4,k.a.awrap(f(e.uri));case 4:t=n.sent,h(t);case 6:n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),alert("Upload failed, sorry :(");case 12:case"end":return n.stop()}}),null,null,[[0,8]],Promise)},h=function(e){r.update({profileURL:e})};function f(e){var t,n,a,o;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,k.a.awrap(new Promise((function(t,n){var a=new XMLHttpRequest;a.onload=function(){t(a.response)},a.onerror=function(e){console.log(e),n(new TypeError("Network request failed"))},a.responseType="blob",a.open("GET",e,!0),a.send(null)})));case 2:return t=r.sent,n=e.substring(e.indexOf("/")+1,e.indexOf(";")),a=Date.now(),o=Se.a.storage().ref().child(a+"."+n),r.next=8,k.a.awrap(o.put(t));case 8:return r.abrupt("return",o.getDownloadURL());case 9:case"end":return r.stop()}}),null,null,null,Promise)}return m?i.a.createElement(N,null):i.a.createElement(c.a,{style:Ce.container},i.a.createElement(c.a,{style:Ce.profileHeader},a?i.a.createElement(L.a,{style:Ce.profileImage,source:{uri:a}}):i.a.createElement(c.a,{style:Ce.profileImage},i.a.createElement(E.a,{style:Ce.profileText},d?d.name.slice(0,1):"F")),i.a.createElement(c.a,{style:Ce.profileInfo},i.a.createElement(E.a,{style:Ce.displayName},d?d.name:n),i.a.createElement(E.a,{style:Ce.createdAt},"Created at:"," ",re.currentUser.metadata.creationTime.substring(5,22)),i.a.createElement(E.a,{style:Ce.createdAt},"Last Sign In:"," ",re.currentUser.metadata.lastSignInTime.substring(5,22))),i.a.createElement($,{text:"Sign out",style:Ce.option,onPress:function(){return re.signOut()}})),i.a.createElement(c.a,null,i.a.createElement(E.a,{style:{fontSize:12,paddingLeft:4,paddingBottom:2,color:u.colors.hazeText,borderBottomColor:u.colors.hazeText,borderBottomWidth:1}},"Options"),i.a.createElement($,{style:Ce.option,text:"Change Profile Image",onPress:function(){return function(){var e;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.awrap(xe.a({mediaTypes:ye.a.All,allowsEditing:!0,aspect:[4,3],quality:1}));case 2:e=t.sent,g(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}})),i.a.createElement(c.a,{style:Ce.options}),i.a.createElement(Ee,null))},navigationOptions:{tabBarIcon:function(e){var t=e.focused;return i.a.createElement(b.a,{name:t?"user-alt":"user",size:t?27:24,color:"white"})},title:"Profile"}}},{initialRouteName:"Projects",tabBarOptions:{activeTintColor:u.colors.hazeText,labelStyle:{fontSize:10},style:{backgroundColor:u.colors.background,width:"100%"}}}),Ze=Object(g.createAppContainer)(qe),Je=n(325),Xe=n(327),Ye=n(218),Ke=n.n(Ye),$e=n(219),_e=n.n($e);function Qe(e){return i.a.createElement(w.a,{onPress:e.onPress,style:et.button,testID:e.testID?e.testID:"button"},i.a.createElement(L.a,{style:et.buttonLogo,source:"google"==e.type?_e.a:""}),i.a.createElement(E.a,{style:et.buttonText},e.text?e.text:"  "," "))}var et=l.a.create({button:{flexDirection:"row",justifyContent:"center",width:u.dimensions.authButtonWidth,paddingTop:7,paddingBottom:7,paddingLeft:15,paddingRight:15,margin:8,backgroundColor:"white",borderRadius:18,alignItems:"center"},buttonText:{marginLeft:5,color:"black",fontWeight:"600"},buttonLogo:{height:19,width:19,margin:3}}),tt=n(238);var nt=function(e){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=ne.collection("users"),n.next=3,k.a.awrap(t.doc(re.currentUser.uid).set({email:re.currentUser.email,createdAt:ee.firestore.FieldValue.serverTimestamp(),name:e||re.currentUser.displayName}));case 3:case"end":return n.stop()}}),null,null,null,Promise)};function at(){if("web"===G.a.OS){var e=new ee.auth.GoogleAuthProvider;e.addScope("profile"),ee.auth().signInWithPopup(e).then((function(e){return nt(),!0})).catch((function(e){return console.log(e),!1}))}else G.a.OS,tt.a({androidStandaloneAppClientId:"875721758742-9b11vs4d5un4t600bjtktp0ra5uctcqh.apps.googleusercontent.com",iosStandaloneAppClientId:"875721758742-i63ci73jfcunr66lb5v5q7tdeudrata9.apps.googleusercontent.com",scopes:["profile","email"]}).then((function(e){if("success"===e.type){var t=e.idToken,n=e.accessToken,a=ee.auth.GoogleAuthProvider.credential(t,n);return nt(),ee.auth().signInWithCredential(a),!0}return!1})).catch((function(e){return console.log(e),!1}))}function ot(e){var t=e.navigation,n=Object(r.useState)(""),a=o()(n,2),s=a[0],l=a[1],c=Object(r.useState)(""),d=o()(c,2),m=d[0],u=d[1],g=Object(r.useState)(""),h=o()(g,2),f=h[0],p=h[1],b=Object(r.useState)(""),y=o()(b,2),w=y[0],S=y[1];return i.a.createElement(x.a,{style:rt.container},i.a.createElement(L.a,{style:rt.logo,source:Ke.a}),i.a.createElement(E.a,{style:rt.headingText},"Sign In"),i.a.createElement(D.a,{style:rt.inputContainer,behavior:"padding"},i.a.createElement(ge,{placeholder:"Email",onChangeText:l}),i.a.createElement(Y,{text:f}),i.a.createElement(ge,{placeholder:"Password",onChangeText:u,password:!0}),i.a.createElement(Y,{text:w}),i.a.createElement($,{text:"Continue",testID:"loginButton",onPress:function(){re.signInWithEmailAndPassword(s,m).catch((function(e){"auth/invalid-email"==e.code?p("Email address is not valid."):"auth/user-not-found"==e.code?p("User not found."):"auth/wrong-password"==e.code?S("Incorrect credentials given."):p("Incorrect details. Try again.")}))},width:"40%"})),i.a.createElement(E.a,{style:rt.orText},"or"),i.a.createElement(Qe,{text:"Sign in with Google",testID:"googleButton",type:"google",onPress:function(){return at()}}),i.a.createElement(E.a,{style:rt.registerText,onPress:function(){t.navigate("Register")},testID:"navToRegisterButton"},"Register new account"))}var rt=l.a.create({container:{flex:1,width:"100%",backgroundColor:u.colors.background,alignItems:"center",justifyContent:"space-around"},inputContainer:{width:"100%",alignItems:"center",justifyContent:"center",marginBottom:40},headingText:{fontSize:28,color:u.colors.text,marginBottom:15},logo:{width:120,height:120,padding:0,marginBottom:15},orText:{fontSize:u.dimensions.standardFontSize,color:u.colors.text,width:"40%",textAlign:"center",borderBottomWidth:1,borderBottomColor:u.colors.text},registerText:{color:u.colors.placeholderColor,fontSize:u.dimensions.standardFontSize,marginBottom:10,textDecorationLine:"underline"}});function it(e){var t=e.navigation,n=Object(r.useState)(""),a=o()(n,2),s=a[0],l=a[1],d=Object(r.useState)(""),m=o()(d,2),u=m[0],g=m[1],h=Object(r.useState)(""),f=o()(h,2),p=f[0],b=f[1],y=Object(r.useState)(""),w=o()(y,2),S=w[0],C=w[1],v=Object(r.useState)(""),z=o()(v,2),T=z[0],j=z[1],I=Object(r.useState)(""),k=o()(I,2),P=k[0],B=k[1],O=Object(r.useState)(""),F=o()(O,2),A=F[0],R=F[1];return i.a.createElement(x.a,{style:st.container},i.a.createElement(E.a,{style:st.headingText},"Register"),i.a.createElement(D.a,{style:st.inputContainer,behavior:"padding"},i.a.createElement(ge,{placeholder:"Full name",onChangeText:l}),i.a.createElement(Y,{text:T}),i.a.createElement(ge,{placeholder:"Email",onChangeText:g}),i.a.createElement(Y,{text:P}),i.a.createElement(ge,{placeholder:"Password",onChangeText:b,password:!0}),i.a.createElement(Y,{text:A}),i.a.createElement(ge,{placeholder:"Confirm password",onChangeText:C,password:!0})),i.a.createElement($,{style:st.continueButton,text:"Continue",onPress:function(){(s.length<2?(j("Name is too short."),0):(j(""),1))&&function(){var e=!1;p.length<8?R("Password is too short."):/[A-Z]/.test(p)&&/[0-9]/.test(p)?p!=S?R("Passwords don't match."):(R(""),e=!0):R("Password must include a capital and a number.");return e}()&&re.createUserWithEmailAndPassword(u,p).then((function(e){B(""),nt(s)})).catch((function(e){switch(e.code){case"auth/invalid-email":B("Email address is not valid.");break;case"auth/email-already-in-use":B("User already exists.");break;default:B("Incorrect details. Try again.")}}))},width:"40%",testID:"registerButton"}),i.a.createElement(E.a,{style:st.orText},"or"),i.a.createElement(c.a,{style:st.line}),i.a.createElement(Qe,{text:"Sign in with Google",type:"google",onPress:function(){return at()},testID:"googleButton"}),i.a.createElement(E.a,{style:st.loginText,onPress:function(){t.navigate("Login")},testID:"navToLoginButton"},"Already have an account? Sign in"))}var st=l.a.create({container:{flex:1,width:"100%",backgroundColor:u.colors.background,alignItems:"center",justifyContent:"space-around"},inputContainer:{width:"100%",alignItems:"center",justifyContent:"center",marginBottom:20},headingText:{fontSize:24,color:u.colors.text,marginTop:15,marginBottom:10},orText:{fontSize:u.dimensions.standardFontSize,color:u.colors.text,width:"40%",textAlign:"center",borderBottomWidth:1,borderBottomColor:u.colors.text},loginText:{color:u.colors.placeholderColor,fontSize:u.dimensions.standardFontSize,marginTop:8,marginBottom:5,textDecorationLine:"underline"}}),lt=n(240),ct=n(223),dt=n.n(ct),mt=n(224),ut=n.n(mt),gt=n(225),ht=n.n(gt);function ft(e){var t=e.navigation,n=[dt.a,ut.a,ht.a],a=n.length,s=Object(r.useState)(0),l=o()(s,2),d=l[0],m=l[1];function u(){t.navigate("Register")}return i.a.createElement(c.a,{style:pt.container},i.a.createElement(E.a,{style:pt.headerText},"Tutorial"),i.a.createElement(lt.a,{style:{height:"85%",width:"85%"}},i.a.createElement(L.a,{style:pt.tutorial,source:n[d],resizeMode:"contain"})),d<a-1?i.a.createElement(c.a,{style:pt.bottomButtons},i.a.createElement($,{onPress:u,width:"30%",text:"Skip"}),i.a.createElement($,{onPress:function(){d<a-1&&m(d+1)},width:"30%",text:"Next"})):i.a.createElement($,{onPress:u,width:"30%",text:"Exit"}))}var pt=l.a.create({container:{flex:1,width:"100%",backgroundColor:u.colors.hazeText,alignItems:"center",justifyContent:"space-around"},headerText:{fontSize:u.dimensions.standardFontSize+7,color:u.colors.jet,fontWeight:"bold"},tutorial:{borderRadius:30,height:"100%",width:"100%",resizeMode:"contain",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4},bottomButtons:{flexDirection:"row",justifyContent:"space-around",width:"100%"}}),bt=Object(Xe.a)();function xt(){return i.a.createElement(Je.a,{style:yt.container},i.a.createElement(bt.Navigator,{initialRouteName:"Tutorial"},i.a.createElement(bt.Screen,{name:"Tutorial",component:ft,options:{headerShown:!1}}),i.a.createElement(bt.Screen,{name:"Login",component:ot,options:{headerShown:!1}}),i.a.createElement(bt.Screen,{name:"Register",component:it,options:{headerShown:!1}})))}var yt=l.a.create({container:{flex:1,backgroundColor:u.colors.background,alignItems:"center",justifyContent:"center"}}),Et=n(232);function wt(){return i.a.createElement(c.a,{style:St.container,testID:"loading"},i.a.createElement(p.a,{name:"wifi-off",size:65,color:"white"}),i.a.createElement(E.a,{style:St.text},"\n","No internet connection detected"))}var St=l.a.create({container:{flex:1,backgroundColor:u.colors.background,justifyContent:"center",alignItems:"center"},text:{color:"white",fontSize:20,textAlign:"center"}});function Ct(){var e=Object(Et.a)(re),t=o()(e,2),n=t[0],a=t[1];return Object(m.a)().isConnected?a?i.a.createElement(N,null):i.a.createElement(c.a,{style:vt.container},n?i.a.createElement(Ze,null):i.a.createElement(xt,null)):i.a.createElement(wt,null)}d.a.ignoreLogs(["Setting a timer for a long period"]);var vt=l.a.create({container:{flex:1,backgroundColor:u.colors.background,paddingTop:s.a.currentHeight+2}})},246:function(e,t,n){e.exports=n(302)}},[[246,1,2]]]);
//# sourceMappingURL=app.f1865fc3.chunk.js.map